### 1：redis如何保证防止缓存穿透和雪崩?
    1.缓存穿透是:查询一个一定不存在的数据,由于缓存是不命中的情况下去查询数据库,查不到数据则不学入缓存,这将导致这个不存在的数据每次都要去数据库查询,造成缓存穿透
    解决办法:**布隆过滤**
    对所有查询的数据以hash的形式存储,在控制层进行校验,不符合的则进行丢弃,还有最常见的则是才用布隆过滤器,将所有的数据哈希到一个足够大的bigmap中,一个一定不会出现的数据会被这个bigmap拦截,从而避免底层查询系统造成的压力
    1.2 什么事布隆过滤器?
    基本原理是:位数组+K个独立hash函数,将hash函数对应的值得位数组置1,查找的时候发现所有的hash函数对应的都是1说明存在,很明显这个过程并不能保证查找的结果100%正确,同事也不支持删除一个已经插入的关键字,因为关键字对应的位会会牵动其他的关键字,所以一个简单的改造就是 counting Bloom filter ,用一个counter 数组代替位数组,就可以支持删除了。添加时增加计数器，删除时减少计数器。
    2.缓存雪崩?
    如果缓存集中在一段时间内失效,发生大量的缓存穿透,所有的查询都落在数据库上,造成缓存雪崩
    解决办法:没有完美解决办法,但可以分析用户的行为,尽量让失效时间点均匀分布,很多人都设计考虑用加锁或者队列的方式保证缓存的单线程（进程）写,从而避免失效时大量的并发请求落到底层存储系统上。
    还可以做双缓存策率

### 2. Redis 如何保证模糊查询?
    1.有三个通配符
    	*   ?  [] 
    	*: 通配任意多个字符
    	?: 通配单个字符
    	[]: 通配括号内的某1个字符

### 3.Redis的哨兵和cluster架构的区别?
    哨兵是:集群监控,负责监控redis master和slave 进程是否正常工作
         消息通知:如果某个redis的实例有故障,那么哨兵负责发送消息作为报警通知给管理员
          故障转移:如果master的node挂掉了,会自动转移到slave node 上
          配置中心:如果故障转移发生了,通知client客户端新的master的地址
    cluster类型:就是redis 集群,是一个提供在多个redis间共享数据的程序集
          redis集群通过分区来提供一定程度上的可用性,在实际环境中当某个环境宕机或者不可达的情况下,继续处理命令,优势在于,自动分割数据到不同的节点上,整理集群的部分节点失败或者不可达的情况下,能够继续处理命令.

### 4.Redis分布式锁为啥要用lua脚本实现？
    减少开销：本来5次的网络请求操作，可以用一个请求完成，
    原子操作
    复用
    
### 5.Redis和Memcached的区别和共同点？
    共同点：
        1.都是基于内存的数据库，一般都是用来当作缓存，
        2.都有过期策略
        3.性能都非常高
    区别
        1.redis支持丰富的数据类型（致辞更加复杂的应用场景）redis不仅仅支持简单的k/v类型
        同时还提供list，set，zset，hash等数据类型存储结构，
        Memcached 只支持最简单的 k/v 数据类型。
        2.redis支持数据的持久化，可以将内存中的数据存储到磁盘中，重启的时候，可以读取磁盘的内容再次使用
        Memcached只能存储到内存中，无法持久化机制
        3.Redis有灾备恢复机制，因为可以将数据持久化到磁盘中
        4.Redis在服务器内使用完毕后，可以将不用到的数据放到磁盘上，但是，Memcached 在服务内存上使用完毕后会
        报出异常
        5.Memcached没有原生的集群模式，需要依靠客户端来实现往集群中分片写入数据；
        但是redis目前只是支持cluster模式
        6.Memcached是多线程的，非阻塞io复用的网络模型，Redis使用的是单线程的io多路复用性（Redis 6.0升级为多线程）
        7.redis支持发布订阅，Lua 脚本，事物功能，而 Memcached 不支持并且，Redis 支持更多的编程语言
        8.Memcached过期数据的删除策略只用了惰性删除，redsi同时使用了惰性删除与定期删除
 
# 布隆过滤器
### 1.什么是布隆过滤器？
    布隆过滤器是一个叫布隆的老哥与1970年提出的，可以理解为由二进制向量(或者说是数组)
    和一系列的随机映射函数（哈希函数）两部分组成的数据结构。相比于我们平时常用的map，List
    Set等数据结构，它占用的空间更加少并且效率高，但是缺点是其返回的结果是概率性的，而不是非常准确的
    理论情况下添加到数组的元素越多，误报的可能性就越大。并且，放在布隆过滤器的数据不容易删除
   
    总的来说：
    一个叫Bloom的人提出了一种来检索元素是否在给定大集合中的数据结构，这种数据结构是高效且性能很好的，
    ，但缺点是具有一定的错误识别率和删除难度。并且，理论情况下，添加到集合中的元素越多，误报的可能性就越大。
    
### 2.布隆过滤器多的原理是什么？
    当一个元素加入到布隆过滤器的时候，会进行如下操作
        1.使用隆过滤器中的哈希函数对元素值进行计算，得到哈希值（有几个哈希函数得到几个哈希值）
        2.根据得到的hash值，在位数组中把对应下标的值置为 1
    当判断一个元素是否存在于布隆过滤器的时候，会进行如下操作
        1.对给定的元素再次进行相同hash计算
        2.得到值之后判断位数组中的每个元素是否都为1，如果值为1，那么
        说明这个值的布隆过滤器中，如果不为1，则该元素就不再布隆过滤器中
    不同的字符串可能哈希出来的位置不同，这种情况我们可以适当的增加数组的大小或者调整我们的hash函数
    总结：布隆过滤器说某个值存在，小概率会误判，布隆过滤器说某个函数不存在，那么这个函数一定不存在
    
### 3.布隆过滤器的使用场景？
   1.判断给定的值是否存在：比如判断一个数字是否存在于包含大量数字的字符集中（数字集很大，5亿以上）防止缓存穿透
   判断请求的数据是否有效的避免直接绕过缓存，请求到数据库等等，邮箱的垃圾邮箱，，，黑名单功能
   2.去重：比如爬去某个网站的内容存储到数据库，避免相同数据存储相同
   
### 4.通过Java手动编写一个布隆过滤器？
    1。


### 5.利用Google开源的Guava中自带的布隆过滤器？
### 6.Redis 中的布隆过滤器？
    1.